<div class="center-section ">
  <div class="projects-tab">
    <nav class="project-nav">
      <div class="nav nav-tabs" role="tablist">
        <a class="nav-item active" id="activeProjects" data-toggle="tab" href="#activeProjectslist" role="tab" aria-controls="activeProjectslist" aria-selected="true">Active Projects(4)</a>
        <a class="nav-item " id="archiveProjects" data-toggle="tab" aria-controls="archiveProjectslist" href="#archiveProjectslist" aria-controls="archiveProjectslist" aria-selected="false">Archive (16)</a>
      </div>
    </nav> 
    <div class="tab-content">
      <div class="tab-pane fade show active" id="activeProjectslist" role="tabpanel" aria-labelled="activeProjects">
        
        <div class="project-item d-flex align-items-start justify-content-between" *ngFor="let project of projectservice.projects">
          <div class="d-flex align-items-start">
            <div class="avatar-sm no-photo-pink mr-3">{{ project.name.charAt(0) }}</div>
            <div class="">
              <a uiSref="project-detail" [uiParams]="{id:project.id}" uiSrefActive="active" class="h5">{{ project.name }}</a>
              <p class="text-muted my-1 small">{{ project.weekly_hours }} hours of 40/week</p>
              <div class="hour-meter">
                <span class="hour-spent"[ngStyle]="{'width': project.weekly_hours / 40 * 100 + '%'}"></span>
              </div>
            </div>
          </div>
          <div class="mb-3" *ngIf="project.users.length">
            <div class="team-members d-flex">
              <div *ngFor="let user of project.users | slice: 0:5">
                <div class="avatar-xs" *ngIf="user.image"
                  [ngStyle]="{'background-image': 'url(' + user.image + ')'}" data-rjs="3">				
                </div>
                <div class="avatar-xs no-photo-pink" *ngIf="!user.image" data-rjs="3">
                  {{ user.first_name.charAt(0) }} {{ user.last_name.charAt(0) }}
                </div>
              </div>
              <div class="avatar-xs more ml-2" *ngIf="project.users.length > 5">
              +{{ project.users.length - 5 }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="archiveProjectslist" role="tabpanel" aria-labelledby="archiveProjects">
        archive
      </div>
    </div>
  </div>

  <aside class="stat-pane overflow-hidden">
    <div class="report-feed report-stream">
      <div class="mb-4 px-4">
        <div class="mb-4 d-flex justify-content-between align-items-center">
          <div>
            <h5 class="pane-title mb-0">Report stream</h5>
          </div>
          <a href="#" class="">Filter by date</a>
        </div>
      </div>
      <div class="month-label">
        <span>January 2018</span>
      </div>

      <div class="report-items" (scroll)="scrollReport($event)">
        <ngb-accordion #a="ngbAccordion" activeIds="ngb-panel-0" [destroyOnHide]="false">
        
        <ngb-panel *ngFor="let report of standupservice.userReportList">
          <ng-template ngbPanelHeader let-opened="opened">
            <button class="btn" [ngClass]="{'active': opened}" ngbPanelToggle>
              <div class="d-flex align-items-center">
                <div class="report-stream-date text-center">
                  <p class="text-primary mb-0">{{ report.date_created | date:'d' }} </p>
                  <small class="text-muted">{{ report.date_created | date:'E' }} </small>
                </div>
                <span class="date-indicator"></span>
                <div class="d-flex justify-content-between">
                  <div class="mr-5">
                    <p class="mb-0 pane-title">{{report.project.name}}</p>
                    <small class="">No issues</small>
                  </div>
                  <div class="text-left">
                    <p class="mb-0 d-block">Total hours: <span>{{report.total_hours}}</span></p>
                    <small class="text-muted">as of {{ report.date_created | date:'shortTime' }} </small>
                  </div>
                </div>
              </div>
            </button>
          </ng-template>

          <ng-template ngbPanelContent>
            <div class="report-table">
              <table id="doneTable">
                <thead>
                  <tr>
                    <th width="80%">Worked on</th>
                    <th width="10%">Link</th>
                    <th width="10%">Hours</th>
                  </tr>
                </thead>
                <tbody *ngFor="let done of report.done">
                  <tr>
                    <td>
                      <p class="report-name">
                        {{ done.content }}
                      </p>
                    </td>
                    <td>
                      <a href="{{done.reference}}">
                        <i class="fal fa-external-link"></i>
                      </a>
                    </td>
                    <td>
                      <p>{{done.hours}}</p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table id="todoTable">
                <thead>
                  <tr>
                    <th width="80%">To do</th>
                    <th width="10%">Link</th>
                    <th width="10%">&nbsp;</th>
                  </tr>
                </thead>
                <tbody *ngFor="let todo of report.todo">
                  <tr>
                    <td>
                      <p class="report-name">
                        {{todo.content}}
                      </p>
                    </td>
                    <td>
                      <a href="{{todo.reference}}">
                        <i class="fal fa-external-link"></i>
                      </a>
                    </td>
                    <td>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table id="issuesTable">
                
                <tbody>
                  <tr>
                    <p class="text-muted">No Issues</p>
                  </tr>
                </tbody>
              </table>
            </div>
          </ng-template>
        </ngb-panel>
        </ngb-accordion>
      </div>
      <!-- <div id="reportStream" class="accordion">

        <div class="report-stream-item item-collapse" data-toggle="collapse" data-target="#report1" aria-expadend="true" aria-controls="report1">
          <div class="d-flex align-items-center">
            <div class="report-stream-date text-center">
              <p class="text-primary mb-0">23</p>
              <small class="text-muted">TUE</small>
            </div>
            <span class="date-indicator "></span>
            <div class="d-flex justify-content-between">
              <div class="mr-5">
                <p class="mb-0 pane-title">Designs</p>
                <small class="">No issues</small>
              </div>
              <div class="text-left">
                <p class="mb-0 d-block">Total hours: <span>8</span></p>
                <small class="text-muted">as of 6:45 PM</small>
              </div>
            </div>
          </div>

          <div class="report-table collapse show" id="report1" class="collapse show" data-parent="#reportStream">
            <table id="doneTable">
              <thead>
                <tr>
                  <th width="80%">Worked on</th>
                  <th width="10%">Link</th>
                  <th width="10%">Hours</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Creating the service to connect to flask
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                
                <tr>
                  <td>
                    <p class="report-name">
                      Succesfully connecting to aws cognito for login
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Transferring the bootstrap to node modules using npm
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="todoTable">
              <thead>
                <tr>
                  <th width="80%">To do</th>
                  <th width="10%">Link</th>
                  <th width="10%">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Creating an endpoint to change the user's password. (This is needed so we could use the token that is passed to us)
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="issuesTable">
              
              <tbody>
                <tr>
                  <p class="text-muted">No Issues</p>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="report-stream-item" data-toggle="collapse" data-target="#report2" aria-expadend="true" aria-controls="report2">
          <div class="d-flex align-items-center">
            <div class="report-stream-date text-center">
              <p class="text-primary mb-0">23</p>
              <small class="text-muted">TUE</small>
            </div>
            <span class="date-indicator "></span>
            <div class="d-flex justify-content-between">
              <div class="mr-5">
                <p class="mb-0 pane-title">Designs</p>
                <small class="text-danger">1 Pending Issue</small>
              </div>
              <div class="text-left">
                <p class="mb-0 d-block">Total hours: <span>8</span></p>
                <small class="text-muted">as of 6:45 PM</small>
              </div>
            </div>
          </div>

          <div class="report-table collapse" id="report2" class="collapse show" data-parent="#reportStream">
            <table id="doneTable">
              <thead>
                <tr>
                  <th width="80%">Worked on</th>
                  <th width="10%">Link</th>
                  <th width="10%">Hours</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Adding error handling for login page
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                
                <tr>
                  <td>
                    <p class="report-name">
                      Making the data from angular dynamic on login page
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Trying to find a workaround to app.run
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="todoTable">
              <thead>
                <tr>
                  <th width="80%">To do</th>
                  <th width="10%">Link</th>
                  <th width="10%">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Creating an endpoint to change the user's password. (This is needed so we could use the token that is passed to us)
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Find a workaround on app.run
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="issuesTable">
              <thead>
                <tr>
                  <th width="80%">Issues</th>
                  <th width="10%">Link</th>
                  <th width="10%">Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Finding out why the updated server always returns 404 (the aws lambda won't execute the function run specifically the app.run.)
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <span class="issue-status-mark unresolved"></span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="report-stream-item" data-toggle="collapse" data-target="#report3" aria-expadend="true" aria-controls="report3">
          <div class="d-flex align-items-center">
            <div class="report-stream-date text-center">
              <p class="text-primary mb-0">23</p>
              <small class="text-muted">TUE</small>
            </div>
            <span class="date-indicator "></span>
            <div class="d-flex justify-content-between">
              <div class="mr-5">
                <p class="mb-0 pane-title">Designs</p>
                <small class="">No Issues</small>
              </div>
              <div class="text-left">
                <p class="mb-0 d-block">Total hours: <span>8</span></p>
                <small class="text-muted">as of 6:45 PM</small>
              </div>
            </div>
          </div>

          <div class="report-table collapse" id="report3" class="collapse show" data-parent="#reportStream">
            <table id="doneTable">
              <thead>
                <tr>
                  <th width="80%">Worked on</th>
                  <th width="10%">Link</th>
                  <th width="10%">Hours</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Fixing the app.run
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                
                <tr>
                  <td>
                    <p class="report-name">
                      Updating the server, it should prompt if the user or password is wrong (https://u56haxzvke.execute-api.uswest-2.amazonaws.com/dev)
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Making two test endpoints for dynamodb, post and get
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Adding error handling for photo and fields on user validation.
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                    <p>2</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="todoTable">
              <thead>
                <tr>
                  <th width="80%">To do</th>
                  <th width="10%">Link</th>
                  <th width="10%">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <p class="report-name">
                      Responding to another challenge that the aws cognito gave us. ("MFA_SETUP")
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p class="report-name">
                      Redirecting the user validation to login page when refreshed.
                    </p>
                  </td>
                  <td>
                    <a href="">
                      <i class="fal fa-external-link"></i>
                    </a>
                  </td>
                  <td>
                  </td>
                </tr>
              </tbody>
            </table>
            <table id="issuesTable">
              
              <tbody>
                <tr>
                  <p class="text-muted">No Issues</p>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> -->
      
    </div>
  </aside>
</div>